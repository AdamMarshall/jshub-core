"use strict";YUI.add("samples-google-analytics-markup",function(a){(function(e){var d={name:"Google Analytics Markup Plugin",id:"google-analytics-markup",version:"0.1 experimental",vendor:"jsHub.org",type:"data-capture"};jsHub.trigger("plugin-initialization-start",d);var b=function b(h){var f,j,i,g;if(h&&h.data&&h.data.context){f=h.data.context;}j=[];i=h.data||{};g={value:i["page-name"],source:i["page-name-source"]};jsHub.trigger("google-analytics-parse-start");e("script",f).each(function(){var m=this.innerHTML,l,k;if(typeof m==="string"){l=m.match(/pageTracker\._trackPageview\((.*)\);/);if(l){if(l[1].match(/^\s*$/)){k=jsHub.safe("document").location.pathname;i["page-name-source"]="location.pathname";}else{k=l[1].replace(/^\s+/,"").replace(/\s+$/,"");k=k.match(/^(['"]|&quot;?)(.+)(\1)$/)[2];i["page-name-source"]=d.id;}j.push(k);i["page-name"]=k;}}});if((j.length>1)||(j.length>0&&g.value)){jsHub.trigger("duplicate-value-warning",{source:d.name,fields:{name:{previous:g,found:j.join(", ")}}});i.warnings=i.warnings||{};i.warnings[d.id]=j.join(", ");if(g.source){i.warnings[g.source]=i.warnings[g.value];}}jsHub.trigger("google-analytics-parse-complete",j);return i;};jsHub.bind("page-view",d.id,b);var c=function c(){jsHub.trigger("google-analytics-initialize-tracking",{_gat:window._gat});if(window._gat){var h=function(i){var j={};for(field in i){if(field){j[field]=i[field];}}j._trackPageview=function(k){var l={context:"#do-not-drill-down-on-this-event","page-name":k};jsHub.trigger("page-view",l);i._trackPageview(k);};return j;};if(window.pageTracker){window.pageTracker=h(window.pageTracker);}var f=window._gat,g={};for(field in f){if(field){g[field]=f[field];}}g._getTracker=function(j){var i=f._getTracker(j);return h(i);};}};jsHub.bind("data-capture-start",d.id,c);})(jQuery);},"2.0.0",{requires:["yui","hub","logger","jquery"],after:["yui"]});